/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-vtools",
factory: function (require) {
"use strict";var plugin=(()=>{var x=Object.create;var m=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var M=(e,r)=>{for(var o in r)m(e,o,{get:r[o],enumerable:!0})},H=(e,r,o,g)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of I(r))!E.call(e,i)&&i!==o&&m(e,i,{get:()=>r[i],enumerable:!(g=b(r,i))||g.enumerable});return e};var _=(e,r,o)=>(o=e!=null?x(T(e)):{},H(r||!e||!e.__esModule?m(o,"default",{value:e,enumerable:!0}):o,e)),Y=e=>H(m({},"__esModule",{value:!0}),e);var F={};M(F,{default:()=>V});var h=_(y("fs")),u=_(y("path")),D=y("@yarnpkg/core"),O=y("module"),C,v=new Map,w={hooks:{registerPackageExtensions:async(e,r)=>{C=G(e);let o=new Map;for(let s of C){let c=function(n){return D.structUtils.parseDescriptor(`${n}@*`,!0).identHash},f=function(n,a){let t=Array.from(a.entries()).find(([p,d])=>d.identHash==n);return t==null?`[could not find name for ident-hash: ${n}]`:t[1].name};var g=c,i=f;if(!s)continue;s.omitPriorDeps_auto=s.omitPriorDeps_auto??!0,console.log(`Preparing overrides group "${s.name}"...`);for(let[n,a]of Object.entries(s.overrides_forSelf??[])){let{scope:t,name:p}=D.structUtils.parseDescriptor(n),d=v.get(t??"");d||(d={},v.set(t??"",d)),d[p]=a}for(let[n,a]of Object.entries(s.overrides_forDeps??[])){let t=D.structUtils.parseDescriptor(n,!0);r(t,a);let p=[...s.omitPriorDeps_auto?Object.keys(a.dependencies??{}).map(c):[],...s.omitPriorDeps_auto?Object.keys(a.peerDependencies??{}).map(c):[],...s.omitPriorDeps_manual?Object.keys(s.omitPriorDeps_manual).map(c):[]];o.set(t.identHash,p)}let j=e.normalizePackage;e.normalizePackage=function(n,...a){let t={...n};function p(l,P){let k=Array.from(l.entries()).filter(([N,S])=>!P.includes(S.identHash));return new Map(k)}if(o.has(n.identHash)){let l=o.get(n.identHash),P=new Map([...n.dependencies,...n.peerDependencies]);console.log("Omitting prior deps (so overrides will apply) for:",n.name,`
Deps to omit/override:`,l.map(k=>f(k,P)).join(",")),t.dependencies=p(n.dependencies,l),t.peerDependencies=p(n.peerDependencies,l)}return j.call(this,t,...a)}}},reduceDependency:async e=>{let o=v.get(e.scope??"")?.[e.name];return o?{...e,range:o}:e}}};function G(e){let r=e.projectCwd.replace(/\\/g,"/").replace("/C:/","C:/"),o=u.default.join(r,"package.json"),g=h.default.readFileSync(o).toString(),i=JSON.parse(g),c=[u.default.join(r,"YVTConfig.js"),u.default.join(r,"YVTConfig.cjs")].find(f=>h.default.existsSync(f));if(c)return console.log("Yarn-plugin-vtools starting. Config found at:",c),(0,O.createRequire)(r)(c).config.dependencyOverrideGroups;if(i.dependencyOverrideGroups!=null)return console.log("Yarn-plugin-vtools starting. Config found in:",o),i.dependencyOverrideGroups;if(h.default.existsSync(u.default.join(r,"YVTConfig.mjs")))throw Error("ES import/export syntax is not currently supported. Please create a YVTConfig.js or YVTConfig.cjs file instead of an .mjs file.");return console.log("Yarn-plugin-vtools could not find config info, in project folder:",r),[]}var V=w;return Y(F);})();
return plugin;
}
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vU291cmNlL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aHMgZnJvbSAncGF0aCdcbmltcG9ydCB0eXBlIHtcbiAgICBIb29rcyBhcyBDb3JlSG9va3MsIFBsdWdpbixcbiAgICBQYWNrYWdlRXh0ZW5zaW9uRGF0YSwgQ29uZmlndXJhdGlvbixcbiAgICBEZXNjcmlwdG9yLFxuICAgIElkZW50SGFzaCxcbiAgICBQYWNrYWdlXG59IGZyb20gJ0B5YXJucGtnL2NvcmUnXG5pbXBvcnQgeyBzdHJ1Y3RVdGlscyB9IGZyb20gJ0B5YXJucGtnL2NvcmUnXG5pbXBvcnQgdHlwZSB7IEhvb2tzIGFzIFBhdGNoSG9va3MgfSBmcm9tICdAeWFybnBrZy9wbHVnaW4tcGF0Y2gnXG5pbXBvcnQgeyBjcmVhdGVSZXF1aXJlIH0gZnJvbSAnbm9kZTptb2R1bGUnXG5cbmludGVyZmFjZSBHcm91cCB7XG4gICAgbmFtZT86IHN0cmluZ1xuICAgIG92ZXJyaWRlc19mb3JTZWxmPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxuICAgIG92ZXJyaWRlc19mb3JEZXBzPzogeyBba2V5OiBzdHJpbmddOiBQYWNrYWdlRXh0ZW5zaW9uRGF0YSB9XG4gICAgb21pdFByaW9yRGVwc19hdXRvPzogYm9vbGVhbjtcblx0b21pdFByaW9yRGVwc19tYW51YWw/OiBzdHJpbmdbXTtcbn1cblxubGV0IGdyb3VwczogR3JvdXBbXTtcbi8vIG92ZXJyaWRlc19mb3JTZWxmIGluZGV4ZWQgYnkgdGhlIHBhY2thZ2UncyBzY29wZVxuY29uc3Qgb3ZlcnJpZGVzRm9yU2VsZkJ5U2NvcGU6IE1hcDxzdHJpbmcsIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0+ID0gbmV3IE1hcCgpO1xuXG5jb25zdCBwbHVnaW46IFBsdWdpbjxDb3JlSG9va3MgJiBQYXRjaEhvb2tzPiA9IHtcbiAgICBob29rczoge1xuICAgICAgICByZWdpc3RlclBhY2thZ2VFeHRlbnNpb25zOiBhc3luYyAoY29uZmlndXJhdGlvbiwgcmVnaXN0ZXJQYWNrYWdlRXh0ZW5zaW9uKSA9PiB7XG4gICAgICAgICAgICBncm91cHMgPSBnZXRHcm91cHMoY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb25zdCByZWd1bGFyRGVwc1RvT21pdF9ieVBhcmVudFBhY2tJZGVudEhhc2ggPSBuZXcgTWFwPElkZW50SGFzaCwgSWRlbnRIYXNoW10+KCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFncm91cCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgZGVmYXVsdCBmaWVsZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBncm91cC5vbWl0UHJpb3JEZXBzX2F1dG8gPSBncm91cC5vbWl0UHJpb3JEZXBzX2F1dG8gPz8gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQcmVwYXJpbmcgb3ZlcnJpZGVzIGdyb3VwIFwiJHtncm91cC5uYW1lfVwiLi4uYCk7XG5cbiAgICAgICAgICAgICAgICAvLyBtb3N0IGNvbW1vbiBjYXNlLCBvZiBvdmVycmlkaW5nIHRoZSB2ZXJzaW9ucy9wcm90b2NvbHMgb2YgcHJvamVjdCBkaXJlY3QtZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAgICAgLy8gKG5vdGU6IGxhY2tzIHNvbWUgb3B0aW9ucyB0aGF0IG92ZXJyaWRlc19mb3JEZXBzIHByb3ZpZGVzLCBsaWtlIG92ZXJyaWRlcyBmb3IgcGVlci1kZXBzKVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2RlcE5hbWUsIGRlcFZlcnNpb25dIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgICAgICAgICAgICBncm91cC5vdmVycmlkZXNfZm9yU2VsZiA/PyBbXVxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzY29wZSwgbmFtZSB9ID0gc3RydWN0VXRpbHMucGFyc2VEZXNjcmlwdG9yKGRlcE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlcnJpZGVzID0gb3ZlcnJpZGVzRm9yU2VsZkJ5U2NvcGUuZ2V0KHNjb3BlID8/ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvdmVycmlkZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVzRm9yU2VsZkJ5U2NvcGUuc2V0KHNjb3BlID8/ICcnLCBvdmVycmlkZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlc1tuYW1lXSA9IGRlcFZlcnNpb247XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbcGFja2FnZURlc2NyaXB0b3IsIHBhY2thZ2VPdmVycmlkZXNdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgICAgICAgICAgICBncm91cC5vdmVycmlkZXNfZm9yRGVwcyA/PyBbXVxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHN0cnVjdFV0aWxzLnBhcnNlRGVzY3JpcHRvcihwYWNrYWdlRGVzY3JpcHRvciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGFja2FnZUV4dGVuc2lvbihkZXNjcmlwdG9yLCBwYWNrYWdlT3ZlcnJpZGVzKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsUGFja2FnZU92ZXJyaWRlc19pZGVudEhhc2hlczogSWRlbnRIYXNoW10gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5ncm91cC5vbWl0UHJpb3JEZXBzX2F1dG8gPyBPYmplY3Qua2V5cyhwYWNrYWdlT3ZlcnJpZGVzLmRlcGVuZGVuY2llcyA/PyB7fSkubWFwKERlcE5hbWVUb0lkZW50SGFzaCkgOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmdyb3VwLm9taXRQcmlvckRlcHNfYXV0byA/IE9iamVjdC5rZXlzKHBhY2thZ2VPdmVycmlkZXMucGVlckRlcGVuZGVuY2llcyA/PyB7fSkubWFwKERlcE5hbWVUb0lkZW50SGFzaCkgOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmdyb3VwLm9taXRQcmlvckRlcHNfbWFudWFsID8gT2JqZWN0LmtleXMoZ3JvdXAub21pdFByaW9yRGVwc19tYW51YWwpLm1hcChEZXBOYW1lVG9JZGVudEhhc2gpIDogW10sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHJlZ3VsYXJEZXBzVG9PbWl0X2J5UGFyZW50UGFja0lkZW50SGFzaC5zZXQoZGVzY3JpcHRvci5pZGVudEhhc2gsIGFsbFBhY2thZ2VPdmVycmlkZXNfaWRlbnRIYXNoZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBEZXBOYW1lVG9JZGVudEhhc2gobmFtZTogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3RVdGlscy5wYXJzZURlc2NyaXB0b3IoYCR7bmFtZX1AKmAsIHRydWUpLmlkZW50SGFzaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gRmluZE5hbWVGb3JJZGVudEhhc2goaWRlbnRIYXNoOiBzdHJpbmcsIGRlcHM6IE1hcDxJZGVudEhhc2gsIERlc2NyaXB0b3I+KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gQXJyYXkuZnJvbShkZXBzLmVudHJpZXMoKSkuZmluZCgoW2tleSwgdmFsdWVdKT0+dmFsdWUuaWRlbnRIYXNoID09IGlkZW50SGFzaCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeSA9PSBudWxsKSByZXR1cm4gYFtjb3VsZCBub3QgZmluZCBuYW1lIGZvciBpZGVudC1oYXNoOiAke2lkZW50SGFzaH1dYDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5WzFdLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gb3ZlcnJpZGUgbm9ybWFsaXplUGFja2FnZSBmdW5jIHRvIGlnbm9yZSBkZXBlbmRlbmNpZXMgd2l0aCBzYW1lIG5hbWVzIGFzIG92ZXJyaWRlcywgc28gdGhlIG92ZXJyaWRlcyBhcmUgYWx3YXlzIGFwcGxpZWRcbiAgICAgICAgICAgICAgICAvLyBmb3IgcmVmLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS95YXJucGtnL2JlcnJ5L2Jsb2IvNmIwMGM2NWU0YWZiZmE5NjZhNmRjNGY4YjdjNTY0ZmNkMTQxNzA5ZS9wYWNrYWdlcy95YXJucGtnLWNvcmUvc291cmNlcy9Db25maWd1cmF0aW9uLnRzI0wxODg3XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplUGFja2FnZV9vcmlnID0gY29uZmlndXJhdGlvbi5ub3JtYWxpemVQYWNrYWdlO1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ubm9ybWFsaXplUGFja2FnZSA9IGZ1bmN0aW9uKHBrZzogUGFja2FnZSwgLi4ub3RoZXJBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBrZ19jb3B5ID0gey4uLnBrZ307XG5cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gT21pdERlcEVudHJpZXNXaXRoSWRlbnRIYXNoTWF0Y2hpbmcoZGVwczogTWFwPElkZW50SGFzaCwgRGVzY3JpcHRvcj4sIGRlcHNUb09taXQ6IHN0cmluZ1tdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzX2ZpbHRlcmVkID0gQXJyYXkuZnJvbShkZXBzLmVudHJpZXMoKSkuZmlsdGVyKChba2V5LCB2YWx1ZV0pPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoZGVwc1RvT21pdC5pbmNsdWRlcyh2YWx1ZS5pZGVudEhhc2gpKSBjb25zb2xlLmxvZyhcIk9taXR0aW5nIGRlcCBmcm9tIHBrZy5kZXBlbmRlbmNpZXMsIHNpbmNlIGhhcyBvdmVycmlkZTpcIiwgdmFsdWUubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFkZXBzVG9PbWl0LmluY2x1ZGVzKHZhbHVlLmlkZW50SGFzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWFwPElkZW50SGFzaCwgRGVzY3JpcHRvcj4oZW50cmllc19maWx0ZXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVndWxhckRlcHNUb09taXRfYnlQYXJlbnRQYWNrSWRlbnRIYXNoLmhhcyhwa2cuaWRlbnRIYXNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpb3JEZXBzVG9PbWl0X2ZvclRoaXNQa2cgPSByZWd1bGFyRGVwc1RvT21pdF9ieVBhcmVudFBhY2tJZGVudEhhc2guZ2V0KHBrZy5pZGVudEhhc2gpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHNBbmRQZWVyRGVwcyA9IG5ldyBNYXA8SWRlbnRIYXNoLCBEZXNjcmlwdG9yPihbLi4ucGtnLmRlcGVuZGVuY2llcywgLi4ucGtnLnBlZXJEZXBlbmRlbmNpZXNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT21pdHRpbmcgcHJpb3IgZGVwcyAoc28gb3ZlcnJpZGVzIHdpbGwgYXBwbHkpIGZvcjpcIiwgcGtnLm5hbWUsIFwiXFxuRGVwcyB0byBvbWl0L292ZXJyaWRlOlwiLCBwcmlvckRlcHNUb09taXRfZm9yVGhpc1BrZy5tYXAoYT0+RmluZE5hbWVGb3JJZGVudEhhc2goYSwgZGVwc0FuZFBlZXJEZXBzKSkuam9pbihcIixcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGtnX2NvcHkuZGVwZW5kZW5jaWVzID0gT21pdERlcEVudHJpZXNXaXRoSWRlbnRIYXNoTWF0Y2hpbmcocGtnLmRlcGVuZGVuY2llcywgcHJpb3JEZXBzVG9PbWl0X2ZvclRoaXNQa2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGtnX2NvcHkucGVlckRlcGVuZGVuY2llcyA9IE9taXREZXBFbnRyaWVzV2l0aElkZW50SGFzaE1hdGNoaW5nKHBrZy5wZWVyRGVwZW5kZW5jaWVzLCBwcmlvckRlcHNUb09taXRfZm9yVGhpc1BrZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwa2dfcmVzdWx0ID0gbm9ybWFsaXplUGFja2FnZV9vcmlnLmNhbGwodGhpcywgcGtnX2NvcHksIC4uLm90aGVyQXJncyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwa2dfcmVzdWx0O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVkdWNlRGVwZW5kZW5jeTogYXN5bmMgKFxuICAgICAgICAgICAgZGVwZW5kZW5jeSxcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvdmVycmlkZXMgPSBvdmVycmlkZXNGb3JTZWxmQnlTY29wZS5nZXQoZGVwZW5kZW5jeS5zY29wZSA/PyAnJyk7XG4gICAgICAgICAgICBjb25zdCBkZXBWZXJzaW9uID0gb3ZlcnJpZGVzPy5bZGVwZW5kZW5jeS5uYW1lXTtcbiAgICAgICAgICAgIGlmIChkZXBWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGVwZW5kZW5jeSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGRlcFZlcnNpb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmN5O1xuICAgICAgICB9LFxuICAgIH0sXG59XG5cbmZ1bmN0aW9uIGdldEdyb3Vwcyhjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgcHJvamVjdEZvbGRlciA9IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgLnByb2plY3RDd2QhLnJlcGxhY2UoL1xcXFwvZywgJy8nKVxuICAgICAgICAucmVwbGFjZSgnL0M6LycsICdDOi8nKTtcbiAgICBjb25zdCBwYWNrYWdlSlNPTlBhdGggPSBwYXRocy5qb2luKFxuICAgICAgICBwcm9qZWN0Rm9sZGVyLFxuICAgICAgICAncGFja2FnZS5qc29uJ1xuICAgICk7XG4gICAgY29uc3QgcGFja2FnZUpTT05UZXh0ID0gZnNcbiAgICAgICAgLnJlYWRGaWxlU3luYyhwYWNrYWdlSlNPTlBhdGgpXG4gICAgICAgIC50b1N0cmluZygpO1xuICAgIGNvbnN0IHBhY2thZ2VKU09OT2JqID0gSlNPTi5wYXJzZShwYWNrYWdlSlNPTlRleHQpO1xuXG4gICAgY29uc3QgeXZ0Q29uZmlnUGF0aHMgPSBbXG4gICAgICAgIHBhdGhzLmpvaW4ocHJvamVjdEZvbGRlciwgJ1lWVENvbmZpZy5qcycpLFxuICAgICAgICBwYXRocy5qb2luKHByb2plY3RGb2xkZXIsICdZVlRDb25maWcuY2pzJyksXG4gICAgXTtcbiAgICBjb25zdCB5dnRDb25maWdQYXRoID0geXZ0Q29uZmlnUGF0aHMuZmluZCgoYSkgPT5cbiAgICAgICAgZnMuZXhpc3RzU3luYyhhKVxuICAgICk7XG4gICAgaWYgKHl2dENvbmZpZ1BhdGgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAnWWFybi1wbHVnaW4tdnRvb2xzIHN0YXJ0aW5nLiBDb25maWcgZm91bmQgYXQ6JyxcbiAgICAgICAgICAgIHl2dENvbmZpZ1BhdGhcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcmVxdWlyZV9ub2RlID0gY3JlYXRlUmVxdWlyZShwcm9qZWN0Rm9sZGVyKTtcbiAgICAgICAgY29uc3QgeXZ0Q29uZmlnRmlsZUV4cG9ydHMgPSByZXF1aXJlX25vZGUoeXZ0Q29uZmlnUGF0aCk7XG4gICAgICAgIGNvbnN0IHl2dENvbmZpZ09iaiA9IHl2dENvbmZpZ0ZpbGVFeHBvcnRzLmNvbmZpZztcbiAgICAgICAgcmV0dXJuIHl2dENvbmZpZ09iai5kZXBlbmRlbmN5T3ZlcnJpZGVHcm91cHM7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgICAgcGFja2FnZUpTT05PYmouZGVwZW5kZW5jeU92ZXJyaWRlR3JvdXBzICE9IG51bGxcbiAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAnWWFybi1wbHVnaW4tdnRvb2xzIHN0YXJ0aW5nLiBDb25maWcgZm91bmQgaW46JyxcbiAgICAgICAgICAgIHBhY2thZ2VKU09OUGF0aFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcGFja2FnZUpTT05PYmouZGVwZW5kZW5jeU92ZXJyaWRlR3JvdXBzIGFzIEdyb3VwW107XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMocGF0aHMuam9pbihwcm9qZWN0Rm9sZGVyLCAnWVZUQ29uZmlnLm1qcycpKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0VTIGltcG9ydC9leHBvcnQgc3ludGF4IGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkLiAnXG4gICAgICAgICAgICAgICAgKyAnUGxlYXNlIGNyZWF0ZSBhIFlWVENvbmZpZy5qcyBvciBZVlRDb25maWcuY2pzIGZpbGUgaW5zdGVhZCBvZiBhbiAubWpzIGZpbGUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICdZYXJuLXBsdWdpbi12dG9vbHMgY291bGQgbm90IGZpbmQgY29uZmlnIGluZm8sIGluIHByb2plY3QgZm9sZGVyOicsXG4gICAgICAgICAgICBwcm9qZWN0Rm9sZGVyXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpblxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7bzBCQUFBLElBQUFBLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxhQUFBRSxJQUFBLElBQUFDLEVBQWUsV0FDZkMsRUFBa0IsYUFRbEJDLEVBQTRCLG1CQUU1QkMsRUFBOEIsWUFVMUJDLEVBRUVDLEVBQWtFLElBQUksSUFFdEVDLEVBQXlDLENBQzNDLE1BQU8sQ0FDSCwwQkFBMkIsTUFBT0MsRUFBZUMsSUFBNkIsQ0FDMUVKLEVBQVNLLEVBQVVGLENBQWEsRUFDaEMsSUFBTUcsRUFBMEMsSUFBSSxJQUVwRCxRQUFXQyxLQUFTUCxFQUFRLENBb0N4QixJQUFTUSxFQUFULFNBQTRCQyxFQUFjLENBQ3RDLE9BQU8sY0FBWSxnQkFBZ0IsR0FBR0EsQ0FBSSxLQUFNLEVBQUksRUFBRSxTQUMxRCxFQUNTQyxFQUFULFNBQThCQyxFQUFtQkMsRUFBa0MsQ0FDL0UsSUFBTUMsRUFBUSxNQUFNLEtBQUtELEVBQUssUUFBUSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUNFLEVBQUtDLENBQUssSUFBSUEsRUFBTSxXQUFhSixDQUFTLEVBQzFGLE9BQUlFLEdBQVMsS0FBYSx3Q0FBd0NGLENBQVMsSUFDcEVFLEVBQU0sQ0FBQyxFQUFFLElBQ3BCLEVBUFMsSUFBQUwsSUFHQUUsSUF0Q1QsR0FBSSxDQUFDSCxFQUFPLFNBR1pBLEVBQU0sbUJBQXFCQSxFQUFNLG9CQUFzQixHQUV2RCxRQUFRLElBQUksOEJBQThCQSxFQUFNLElBQUksTUFBTSxFQUkxRCxPQUFXLENBQUNTLEVBQVNDLENBQVUsSUFBSyxPQUFPLFFBQ3ZDVixFQUFNLG1CQUFxQixDQUFDLENBQ2hDLEVBQUcsQ0FDQyxHQUFNLENBQUUsTUFBQVcsRUFBTyxLQUFBVCxDQUFLLEVBQUksY0FBWSxnQkFBZ0JPLENBQU8sRUFDdkRHLEVBQVlsQixFQUF3QixJQUFJaUIsR0FBUyxFQUFFLEVBQ2xEQyxJQUNEQSxFQUFZLENB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SEQsRUFBZSwwQkFBNEIsS0FFM0MsZUFBUSxJQUNKLGdEQUNBSixDQUNKLEVBQ09JLEVBQWUseUJBRXRCLEdBQUksRUFBQUQsUUFBRyxXQUFXLEVBQUFGLFFBQU0sS0FBS0YsRUFBZSxlQUFlLENBQUMsRUFDeEQsTUFBTSxNQUFNLGlJQUN1RSxFQUd2RixlQUFRLElBQ0osb0VBQ0FBLENBQ0osRUFDTyxDQUFDLENBRWhCLENBRUEsSUFBT3hDLEVBQVFPIiwKICAibmFtZXMiOiBbIlNvdXJjZV9leHBvcnRzIiwgIl9fZXhwb3J0IiwgIlNvdXJjZV9kZWZhdWx0IiwgImltcG9ydF9mcyIsICJpbXBvcnRfcGF0aCIsICJpbXBvcnRfY29yZSIsICJpbXBvcnRfbm9kZV9tb2R1bGUiLCAiZ3JvdXBzIiwgIm92ZXJyaWRlc0ZvclNlbGZCeVNjb3BlIiwgInBsdWdpbiIsICJjb25maWd1cmF0aW9uIiwgInJlZ2lzdGVyUGFja2FnZUV4dGVuc2lvbiIsICJnZXRHcm91cHMiLCAicmVndWxhckRlcHNUb09taXRfYnlQYXJlbnRQYWNrSWRlbnRIYXNoIiwgImdyb3VwIiwgIkRlcE5hbWVUb0lkZW50SGFzaCIsICJuYW1lIiwgIkZpbmROYW1lRm9ySWRlbnRIYXNoIiwgImlkZW50SGFzaCIsICJkZXBzIiwgImVudHJ5IiwgImtleSIsICJ2YWx1ZSIsICJkZXBOYW1lIiwgImRlcFZlcnNpb24iLCAic2NvcGUiLCAib3ZlcnJpZGVzIiwgInBhY2thZ2VEZXNjcmlwdG9yIiwgInBhY2thZ2VPdmVycmlkZXMiLCAiZGVzY3JpcHRvciIsICJhbGxQYWNrYWdlT3ZlcnJpZGVzX2lkZW50SGFzaGVzIiwgIm5vcm1hbGl6ZVBhY2thZ2Vfb3JpZyIsICJwa2ciLCAib3RoZXJBcmdzIiwgInBrZ19jb3B5IiwgIk9taXREZXBFbnRyaWVzV2l0aElkZW50SGFzaE1hdGNoaW5nIiwgImRlcHNUb09taXQiLCAiZW50cmllc19maWx0ZXJlZCIsICJwcmlvckRlcHNUb09taXRfZm9yVGhpc1BrZyIsICJkZXBzQW5kUGVlckRlcHMiLCAiYSIsICJkZXBlbmRlbmN5IiwgInByb2plY3RGb2xkZXIiLCAicGFja2FnZUpTT05QYXRoIiwgInBhdGhzIiwgInBhY2thZ2VKU09OVGV4dCIsICJmcyIsICJwYWNrYWdlSlNPTk9iaiIsICJ5dnRDb25maWdQYXRoIl0KfQo=
